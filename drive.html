<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Google Drive Clone</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
    <aside class="sidebar">
      <div class="logo">Drive</div>
      <nav class="menu">
        <a href="#" class="menu-item">Default Directory</a>
      </nav>
    </aside>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ -->
    <main class="main-content">
      <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
      <header class="header">
        <input type="text" class="search-bar" placeholder="Search in Drive">
        <div class="profile">
          <img src="https://via.placeholder.com/40" alt="Profile" class="profile-pic">
        </div>
      </header>

      <!-- ãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
      <div class="file-area" id="files">
        <button class="file-card" id="abc">
          <div class="file-icon">ğŸ“</div>
          <div class="file-name">abc</div>
        </button>
        <button class="file-card" id="def">
          <div class="file-icon">ğŸ“</div>
          <div class="file-name">def</div>
        </button>
        <button class="file-card" id="default_text">
          <div class="file-icon">ğŸ“„</div>
          <div class="file-name" id="output">Default File</div>
        </button>
      </div>
    </main>
  </div>
  <script>
    const { ipcRenderer } = require('electron');
    const files = document.getElementById('files');
    let abc = document.getElementById('abc');
    let def = document.getElementById('def');
    let Default_text = document.getElementById('default_text');
    let file_list = [];

    // ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã®å‡¦ç†
    document.getElementById('abc').addEventListener('click', () => {
      
        const command = `curl -X POST "http://127.0.0.1:5001/api/v0/dht/getbyattrs?tags=dir_d/abc&showall=true;"`; //å®Ÿè¡Œã—ãŸã„ã‚³ãƒãƒ³ãƒ‰
        // ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã«ã‚³ãƒãƒ³ãƒ‰ã‚’é€ä¿¡
        ipcRenderer.send('run-command2', command);
    });

    // ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã‹ã‚‰ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœã‚’å—ã‘å–ã‚‹
    ipcRenderer.on('command-result2', (event, result) => {
        // ä¸€è‡´ã™ã‚‹éƒ¨åˆ†ã‚’ã™ã¹ã¦å–å¾—
        const data = JSON.parse(result);
        files.innerHTML = "";
        // filenameã¨dirã‚’å‹•çš„ã«å–å¾—ã—ã¦è¡¨ç¤º
        data.forEach(item => {
            const button = document.createElement('input');
            button.type = 'button';
            button.value = `${item.filename}.${item.extension}`; // ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆ
            button.onclick = function () {
              alert('ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼');
            };
            document.getElementById("files").appendChild(button);
        });
    });
  </script>
</body>
</html>
